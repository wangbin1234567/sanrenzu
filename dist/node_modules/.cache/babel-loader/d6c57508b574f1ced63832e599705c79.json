{"remainingRequest":"C:\\Users\\贾永宏\\Desktop\\jyh\\sanrenzu\\dist\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\贾永宏\\Desktop\\jyh\\sanrenzu\\dist\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\贾永宏\\Desktop\\jyh\\sanrenzu\\dist\\src\\store\\modules\\car.js","dependencies":[{"path":"C:\\Users\\贾永宏\\Desktop\\jyh\\sanrenzu\\dist\\src\\store\\modules\\car.js","mtime":1575611193423},{"path":"C:\\Users\\贾永宏\\Desktop\\jyh\\sanrenzu\\dist\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1575538845000},{"path":"C:\\Users\\贾永宏\\Desktop\\jyh\\sanrenzu\\dist\\node_modules\\babel-loader\\lib\\index.js","mtime":1575538845000},{"path":"C:\\Users\\贾永宏\\Desktop\\jyh\\sanrenzu\\dist\\node_modules\\eslint-loader\\index.js","mtime":1575538847000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC1pbmRleCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZvci1lYWNoIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc29ydCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zZXQiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICJDOlxcVXNlcnNcXFx1OEQzRVx1NkMzOFx1NUI4RlxcRGVza3RvcFxcanloXFxzYW5yZW56dVxcZGlzdFxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkiOwppbXBvcnQgeyBnZXRJbmZvQW5kTGlzdEJ5SWQgYXMgX2dldEluZm9BbmRMaXN0QnlJZCB9IGZyb20gIkAvc2VydmljZXMvaW5kZXgiOwp2YXIgc3RhdGUgPSB7CiAgY2FyTGlzdDoge30sCiAgY3VycmVudDogIuWFqOmDqCIsCiAgeWVhcjogWyLlhajpg6giXSwKICBjdXJyZW50TGlzdDogW10KfTsgLy/nu5novabmrL7mjpLluo8KCmZ1bmN0aW9uIHNvcnRDYXJMaXN0KGxpc3QpIHsKICBsaXN0LnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsKICAgIGlmIChhLmV4aGF1c3Rfc3RyID09IGIuZXhoYXVzdF9zdHIpIHsKICAgICAgaWYgKGEubWF4X3Bvd2VyX3N0ciA9PSBiLm1heF9wb3dlcl9zdHIpIHsKICAgICAgICByZXR1cm4gYi5pbmhhbGVfdHlwZSA+IGEuaW5oYWxlX3R5cGU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIGEubWF4X3Bvd2VyIC0gYi5tYXhfcG93ZXI7CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiBhLmV4aGF1c3QgLSBiLmV4aGF1c3Q7CiAgICB9CiAgfSk7CiAgcmV0dXJuIGxpc3Q7Cn0gLy/moLzlvI/ljJbmlbDmja4KCgpmdW5jdGlvbiBmb3JtYXRDYXJMaXN0KGxpc3QpIHsKICBsaXN0ID0gbGlzdC5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgIGl0ZW0ua2V5ID0gIiIuY29uY2F0KGl0ZW0uZXhoYXVzdF9zdHIsICIvIikuY29uY2F0KGl0ZW0ubWF4X3Bvd2VyX3N0ciwgIiAiKS5jb25jYXQoaXRlbS5pbmhhbGVfdHlwZSk7CiAgICByZXR1cm4gaXRlbTsKICB9KTsKICB2YXIgbmV3TGlzdCA9IFtdOwogIGxpc3QuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgdmFyIGluZGV4ID0gbmV3TGlzdC5maW5kSW5kZXgoZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgIHJldHVybiB2YWx1ZS5rZXkgPT0gaXRlbS5rZXk7CiAgICB9KTsKCiAgICBpZiAoaW5kZXggIT09IC0xKSB7CiAgICAgIG5ld0xpc3RbaW5kZXhdLmxpc3QucHVzaChpdGVtKTsKICAgIH0gZWxzZSB7CiAgICAgIG5ld0xpc3QucHVzaCh7CiAgICAgICAga2V5OiBpdGVtLmtleSwKICAgICAgICBsaXN0OiBbaXRlbV0KICAgICAgfSk7CiAgICB9CiAgfSk7CiAgd2luZG93LmNvbnNvbGUubG9nKHN0YXRlLmN1cnJlbnRMaXN0KTsKICByZXR1cm4gbmV3TGlzdDsKfQoKdmFyIG11dGF0aW9ucyA9IHsKICB1cGRhdGVJbmZvQW5kTGlzdEJ5SWQ6IGZ1bmN0aW9uIHVwZGF0ZUluZm9BbmRMaXN0QnlJZChzdGF0ZSwgcGF5bG9hZCkgewogICAgc3RhdGUuY2FyTGlzdCA9IHBheWxvYWQuZGF0YTsKICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCIyMDE3Lm9mZmljaWFsLmNhckluZm8iLCBKU09OLnN0cmluZ2lmeShzdGF0ZS5jYXJMaXN0KSk7IC8vIOaLv+WIsOW5tOS7vQoKICAgIHZhciB5ZWFyID0gcGF5bG9hZC5kYXRhLmxpc3QubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgIHJldHVybiBpdGVtLm1hcmtldF9hdHRyaWJ1dGUueWVhcjsKICAgIH0pOwogICAgc3RhdGUueWVhciA9IFsi5YWo6YOoIl07CiAgICBzdGF0ZS55ZWFyID0gX3RvQ29uc3VtYWJsZUFycmF5KG5ldyBTZXQoc3RhdGUueWVhci5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KG5ldyBTZXQoeWVhcikpKSkpOwogICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oIjIwMTcub2ZmaWNpYWwueWVhckFyciIsIEpTT04uc3RyaW5naWZ5KHN0YXRlLnllYXIpKTsgLy8g5ou/5Yiw5b2T5YmN6YCJ5oup5bm05Lu955qE5pWw5o2uCgogICAgdmFyIGN1cnJlbnRMaXN0ID0gW107CgogICAgaWYgKHN0YXRlLmN1cnJlbnQgPT0gIuWFqOmDqCIpIHsKICAgICAgY3VycmVudExpc3QgPSBwYXlsb2FkLmRhdGEubGlzdDsKICAgIH0gZWxzZSB7CiAgICAgIGN1cnJlbnRMaXN0ID0gcGF5bG9hZC5kYXRhLmxpc3QuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0ubWFya2V0X2F0dHJpYnV0ZS55ZWFyID09IHN0YXRlLmN1cnJlbnQ7CiAgICAgIH0pOwogICAgfSAvLyDnu5nlvZPliY3lubTku73mlbDmja7mjpLluo8KCgogICAgY3VycmVudExpc3QgPSBzb3J0Q2FyTGlzdChjdXJyZW50TGlzdCk7CiAgICBjdXJyZW50TGlzdCA9IGZvcm1hdENhckxpc3QoY3VycmVudExpc3QpOwogICAgc3RhdGUuY3VycmVudExpc3QgPSBjdXJyZW50TGlzdDsKICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCIyMDE3Lm9mZmljaWFsLnNvcnRBcnIiLCBKU09OLnN0cmluZ2lmeShzdGF0ZS5jdXJyZW50TGlzdCkpOwogICAgd2luZG93LmNvbnNvbGUubG9nKHN0YXRlLmN1cnJlbnRMaXN0KTsKICB9LAogIHNldEN1cnJlbnQ6IGZ1bmN0aW9uIHNldEN1cnJlbnQoc3RhdGUsIHBheWxvYWQpIHsKICAgIHN0YXRlLmN1cnJlbnQgPSBwYXlsb2FkOwogIH0KfTsKdmFyIGFjdGlvbnMgPSB7CiAgZ2V0SW5mb0FuZExpc3RCeUlkOiBmdW5jdGlvbiBnZXRJbmZvQW5kTGlzdEJ5SWQoX3JlZiwgcGF5bG9hZCkgewogICAgdmFyIGNvbW1pdCwgcmVzOwogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hc3luYyhmdW5jdGlvbiBnZXRJbmZvQW5kTGlzdEJ5SWQkKF9jb250ZXh0KSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBjb21taXQgPSBfcmVmLmNvbW1pdDsKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXdyYXAoX2dldEluZm9BbmRMaXN0QnlJZChwYXlsb2FkKSk7CgogICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICByZXMgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICBjb21taXQoInVwZGF0ZUluZm9BbmRMaXN0QnlJZCIsIHJlcyk7CgogICAgICAgICAgY2FzZSA1OgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0pOwogIH0KfTsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWVzcGFjZWQ6IHRydWUsCiAgc3RhdGU6IHN0YXRlLAogIG11dGF0aW9uczogbXV0YXRpb25zLAogIGFjdGlvbnM6IGFjdGlvbnMKfTs="},{"version":3,"sources":["C:/Users/贾永宏/Desktop/jyh/sanrenzu/dist/src/store/modules/car.js"],"names":["getInfoAndListById","state","carList","current","year","currentList","sortCarList","list","sort","a","b","exhaust_str","max_power_str","inhale_type","max_power","exhaust","formatCarList","map","item","key","newList","forEach","index","findIndex","value","push","window","console","log","mutations","updateInfoAndListById","payload","data","localStorage","setItem","JSON","stringify","market_attribute","Set","concat","filter","setCurrent","actions","commit","res","namespaced"],"mappings":";;;;;;;;;;;;;AAAA,SACIA,kBAAkB,IAAlBA,mBADJ,QAEO,kBAFP;AAIA,IAAMC,KAAK,GAAG;AACVC,EAAAA,OAAO,EAAE,EADC;AAEVC,EAAAA,OAAO,EAAE,IAFC;AAGVC,EAAAA,IAAI,EAAE,CAAC,IAAD,CAHI;AAIVC,EAAAA,WAAW,EAAE;AAJH,CAAd,C,CAMA;;AACA,SAASC,WAAT,CAAqBC,IAArB,EAA2B;AACvBA,EAAAA,IAAI,CAACC,IAAL,CAAU,UAACC,CAAD,EAAIC,CAAJ,EAAQ;AACd,QAAID,CAAC,CAACE,WAAF,IAAiBD,CAAC,CAACC,WAAvB,EAAmC;AAC/B,UAAIF,CAAC,CAACG,aAAF,IAAmBF,CAAC,CAACE,aAAzB,EAAuC;AACnC,eAAOF,CAAC,CAACG,WAAF,GAAgBJ,CAAC,CAACI,WAAzB;AACH,OAFD,MAEK;AACD,eAAOJ,CAAC,CAACK,SAAF,GAAcJ,CAAC,CAACI,SAAvB;AACH;AACJ,KAND,MAMK;AACD,aAAOL,CAAC,CAACM,OAAF,GAAYL,CAAC,CAACK,OAArB;AACH;AACJ,GAVD;AAWA,SAAOR,IAAP;AACH,C,CACD;;;AACA,SAASS,aAAT,CAAuBT,IAAvB,EAA6B;AACzBA,EAAAA,IAAI,GAAGA,IAAI,CAACU,GAAL,CAAS,UAAAC,IAAI,EAAI;AACpBA,IAAAA,IAAI,CAACC,GAAL,aAAcD,IAAI,CAACP,WAAnB,cAAkCO,IAAI,CAACN,aAAvC,cAAwDM,IAAI,CAACL,WAA7D;AACA,WAAOK,IAAP;AACH,GAHM,CAAP;AAIA,MAAIE,OAAO,GAAG,EAAd;AACAb,EAAAA,IAAI,CAACc,OAAL,CAAa,UAAAH,IAAI,EAAI;AACjB,QAAII,KAAK,GAAGF,OAAO,CAACG,SAAR,CAAkB,UAAAC,KAAK;AAAA,aAAIA,KAAK,CAACL,GAAN,IAAaD,IAAI,CAACC,GAAtB;AAAA,KAAvB,CAAZ;;AACA,QAAIG,KAAK,KAAK,CAAC,CAAf,EAAkB;AACdF,MAAAA,OAAO,CAACE,KAAD,CAAP,CAAef,IAAf,CAAoBkB,IAApB,CAAyBP,IAAzB;AACH,KAFD,MAEO;AACHE,MAAAA,OAAO,CAACK,IAAR,CAAa;AACTN,QAAAA,GAAG,EAAED,IAAI,CAACC,GADD;AAETZ,QAAAA,IAAI,EAAE,CAACW,IAAD;AAFG,OAAb;AAIH;AACJ,GAVD;AAWAQ,EAAAA,MAAM,CAACC,OAAP,CAAeC,GAAf,CAAmB3B,KAAK,CAACI,WAAzB;AACA,SAAOe,OAAP;AACH;;AACD,IAAMS,SAAS,GAAG;AACdC,EAAAA,qBADc,iCACQ7B,KADR,EACe8B,OADf,EACwB;AAClC9B,IAAAA,KAAK,CAACC,OAAN,GAAgB6B,OAAO,CAACC,IAAxB;AACAC,IAAAA,YAAY,CAACC,OAAb,CAAqB,uBAArB,EAA6CC,IAAI,CAACC,SAAL,CAAenC,KAAK,CAACC,OAArB,CAA7C,EAFkC,CAGlC;;AACA,QAAIE,IAAI,GAAG2B,OAAO,CAACC,IAAR,CAAazB,IAAb,CAAkBU,GAAlB,CAAsB,UAAAC,IAAI;AAAA,aAAIA,IAAI,CAACmB,gBAAL,CAAsBjC,IAA1B;AAAA,KAA1B,CAAX;AACAH,IAAAA,KAAK,CAACG,IAAN,GAAW,CAAC,IAAD,CAAX;AACAH,IAAAA,KAAK,CAACG,IAAN,sBAAiB,IAAIkC,GAAJ,CAAQrC,KAAK,CAACG,IAAN,CAAWmC,MAAX,oBAAsB,IAAID,GAAJ,CAAQlC,IAAR,CAAtB,EAAR,CAAjB;AACA6B,IAAAA,YAAY,CAACC,OAAb,CAAqB,uBAArB,EAA6CC,IAAI,CAACC,SAAL,CAAenC,KAAK,CAACG,IAArB,CAA7C,EAPkC,CAQlC;;AACA,QAAIC,WAAW,GAAG,EAAlB;;AACA,QAAIJ,KAAK,CAACE,OAAN,IAAiB,IAArB,EAA2B;AACvBE,MAAAA,WAAW,GAAG0B,OAAO,CAACC,IAAR,CAAazB,IAA3B;AACH,KAFD,MAEO;AACHF,MAAAA,WAAW,GAAG0B,OAAO,CAACC,IAAR,CAAazB,IAAb,CAAkBiC,MAAlB,CAAyB,UAAAtB,IAAI;AAAA,eAAIA,IAAI,CAACmB,gBAAL,CAAsBjC,IAAtB,IAA8BH,KAAK,CAACE,OAAxC;AAAA,OAA7B,CAAd;AACH,KAdiC,CAelC;;;AACAE,IAAAA,WAAW,GAAGC,WAAW,CAACD,WAAD,CAAzB;AACAA,IAAAA,WAAW,GAAGW,aAAa,CAACX,WAAD,CAA3B;AACAJ,IAAAA,KAAK,CAACI,WAAN,GAAoBA,WAApB;AACA4B,IAAAA,YAAY,CAACC,OAAb,CAAqB,uBAArB,EAA6CC,IAAI,CAACC,SAAL,CAAenC,KAAK,CAACI,WAArB,CAA7C;AACAqB,IAAAA,MAAM,CAACC,OAAP,CAAeC,GAAf,CAAmB3B,KAAK,CAACI,WAAzB;AACH,GAtBa;AAuBdoC,EAAAA,UAvBc,sBAuBHxC,KAvBG,EAuBG8B,OAvBH,EAuBW;AACrB9B,IAAAA,KAAK,CAACE,OAAN,GAAc4B,OAAd;AACH;AAzBa,CAAlB;AA2BA,IAAMW,OAAO,GAAG;AACN1C,EAAAA,kBADM,oCAGT+B,OAHS;AAAA;AAAA;AAAA;AAAA;AAAA;AAERY,YAAAA,MAFQ,QAERA,MAFQ;AAAA;AAAA,4CAIQ3C,mBAAkB,CAAC+B,OAAD,CAJ1B;;AAAA;AAIJa,YAAAA,GAJI;AAKRD,YAAAA,MAAM,CAAC,uBAAD,EAA0BC,GAA1B,CAAN;;AALQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAhB;AAQA,eAAe;AACXC,EAAAA,UAAU,EAAE,IADD;AAEX5C,EAAAA,KAAK,EAALA,KAFW;AAGX4B,EAAAA,SAAS,EAATA,SAHW;AAIXa,EAAAA,OAAO,EAAPA;AAJW,CAAf","sourcesContent":["import {\r\n    getInfoAndListById\r\n} from \"@/services/index\"\r\n\r\nconst state = {\r\n    carList: {},\r\n    current: \"全部\",\r\n    year: [\"全部\"],\r\n    currentList: []\r\n}\r\n//给车款排序\r\nfunction sortCarList(list) {\r\n    list.sort((a, b)=>{\r\n        if (a.exhaust_str == b.exhaust_str){\r\n            if (a.max_power_str == b.max_power_str){\r\n                return b.inhale_type > a.inhale_type;\r\n            }else{\r\n                return a.max_power - b.max_power;\r\n            }\r\n        }else{\r\n            return a.exhaust - b.exhaust;\r\n        }\r\n    })\r\n    return list;\r\n}\r\n//格式化数据\r\nfunction formatCarList(list) {\r\n    list = list.map(item => {\r\n        item.key = `${item.exhaust_str}/${item.max_power_str} ${item.inhale_type}`;\r\n        return item\r\n    })\r\n    let newList = [];\r\n    list.forEach(item => {\r\n        let index = newList.findIndex(value => value.key == item.key)\r\n        if (index !== -1) {\r\n            newList[index].list.push(item)\r\n        } else {\r\n            newList.push({\r\n                key: item.key,\r\n                list: [item]\r\n            })\r\n        }\r\n    })\r\n    window.console.log(state.currentList)\r\n    return newList\r\n}\r\nconst mutations = {  \r\n    updateInfoAndListById(state, payload) {\r\n        state.carList = payload.data\r\n        localStorage.setItem(\"2017.official.carInfo\",JSON.stringify(state.carList))\r\n        // 拿到年份\r\n        let year = payload.data.list.map(item => item.market_attribute.year);\r\n        state.year=[\"全部\"]\r\n        state.year = [...new Set(state.year.concat([...new Set(year)]))]\r\n        localStorage.setItem(\"2017.official.yearArr\",JSON.stringify(state.year))\r\n        // 拿到当前选择年份的数据\r\n        let currentList = [];\r\n        if (state.current == \"全部\") {\r\n            currentList = payload.data.list\r\n        } else {\r\n            currentList = payload.data.list.filter(item => item.market_attribute.year == state.current)\r\n        }\r\n        // 给当前年份数据排序\r\n        currentList = sortCarList(currentList)\r\n        currentList = formatCarList(currentList)\r\n        state.currentList = currentList\r\n        localStorage.setItem(\"2017.official.sortArr\",JSON.stringify(state.currentList))\r\n        window.console.log(state.currentList)\r\n    },\r\n    setCurrent(state,payload){\r\n        state.current=payload\r\n    }\r\n}\r\nconst actions = {\r\n    async getInfoAndListById({\r\n        commit\r\n    }, payload) {\r\n        let res = await getInfoAndListById(payload)\r\n        commit(\"updateInfoAndListById\", res)\r\n    }\r\n}\r\nexport default {\r\n    namespaced: true,\r\n    state,\r\n    mutations,\r\n    actions\r\n}"]}]}