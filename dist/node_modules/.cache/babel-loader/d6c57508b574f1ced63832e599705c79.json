{"remainingRequest":"C:\\Users\\贾永宏\\Desktop\\jyh\\sanrenzu\\dist\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\贾永宏\\Desktop\\jyh\\sanrenzu\\dist\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\贾永宏\\Desktop\\jyh\\sanrenzu\\dist\\src\\store\\modules\\car.js","dependencies":[{"path":"C:\\Users\\贾永宏\\Desktop\\jyh\\sanrenzu\\dist\\src\\store\\modules\\car.js","mtime":1575517611335},{"path":"C:\\Users\\贾永宏\\Desktop\\jyh\\sanrenzu\\dist\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\贾永宏\\Desktop\\jyh\\sanrenzu\\dist\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\贾永宏\\Desktop\\jyh\\sanrenzu\\dist\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC1pbmRleCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZvci1lYWNoIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc29ydCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zZXQiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICJDOlxcVXNlcnNcXFx1OEQzRVx1NkMzOFx1NUI4RlxcRGVza3RvcFxcanloXFxzYW5yZW56dVxcZGlzdFxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkiOwppbXBvcnQgeyBnZXRJbmZvQW5kTGlzdEJ5SWQgYXMgX2dldEluZm9BbmRMaXN0QnlJZCB9IGZyb20gIkAvc2VydmljZXMvaW5kZXgiOwp2YXIgc3RhdGUgPSB7CiAgY2FyTGlzdDoge30sCiAgY3VycmVudDogIuWFqOmDqCIsCiAgeWVhcjogWyLlhajpg6giXSwKICBjdXJyZW50TGlzdDogW10KfTsgLy/nu5novabmrL7mjpLluo8KCmZ1bmN0aW9uIHNvcnRDYXJMaXN0KGxpc3QpIHsKICBsaXN0LnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsKICAgIGlmIChhLmV4aGF1c3Rfc3RyID09IGIuZXhoYXVzdF9zdHIpIHsKICAgICAgaWYgKGEubWF4X3Bvd2VyX3N0ciA9PSBiLm1heF9wb3dlcl9zdHIpIHsKICAgICAgICByZXR1cm4gYi5pbmhhbGVfdHlwZSA+IGEuaW5oYWxlX3R5cGU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIGEubWF4X3Bvd2VyIC0gYi5tYXhfcG93ZXI7CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiBhLmV4aGF1c3QgLSBiLmV4aGF1c3Q7CiAgICB9CiAgfSk7CiAgcmV0dXJuIGxpc3Q7Cn0gLy/moLzlvI/ljJbmlbDmja4KCgpmdW5jdGlvbiBmb3JtYXRDYXJMaXN0KGxpc3QpIHsKICBsaXN0ID0gbGlzdC5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgIGl0ZW0ua2V5ID0gIiIuY29uY2F0KGl0ZW0uZXhoYXVzdF9zdHIsICIvIikuY29uY2F0KGl0ZW0ubWF4X3Bvd2VyX3N0ciwgIiAiKS5jb25jYXQoaXRlbS5pbmhhbGVfdHlwZSk7CiAgICByZXR1cm4gaXRlbTsKICB9KTsKICB2YXIgbmV3TGlzdCA9IFtdOwogIGxpc3QuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgdmFyIGluZGV4ID0gbmV3TGlzdC5maW5kSW5kZXgoZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgIHJldHVybiB2YWx1ZS5rZXkgPT0gaXRlbS5rZXk7CiAgICB9KTsKCiAgICBpZiAoaW5kZXggIT09IC0xKSB7CiAgICAgIG5ld0xpc3RbaW5kZXhdLmxpc3QucHVzaChpdGVtKTsKICAgIH0gZWxzZSB7CiAgICAgIG5ld0xpc3QucHVzaCh7CiAgICAgICAga2V5OiBpdGVtLmtleSwKICAgICAgICBsaXN0OiBbaXRlbV0KICAgICAgfSk7CiAgICB9CiAgfSk7CiAgd2luZG93LmNvbnNvbGUubG9nKHN0YXRlLmN1cnJlbnRMaXN0KTsKICByZXR1cm4gbmV3TGlzdDsKfQoKdmFyIG11dGF0aW9ucyA9IHsKICB1cGRhdGVJbmZvQW5kTGlzdEJ5SWQ6IGZ1bmN0aW9uIHVwZGF0ZUluZm9BbmRMaXN0QnlJZChzdGF0ZSwgcGF5bG9hZCkgewogICAgc3RhdGUuY2FyTGlzdCA9IHBheWxvYWQuZGF0YTsgLy8g5ou/5Yiw5bm05Lu9CgogICAgdmFyIHllYXIgPSBwYXlsb2FkLmRhdGEubGlzdC5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgcmV0dXJuIGl0ZW0ubWFya2V0X2F0dHJpYnV0ZS55ZWFyOwogICAgfSk7CiAgICBzdGF0ZS55ZWFyID0gWyLlhajpg6giXTsKICAgIHN0YXRlLnllYXIgPSBfdG9Db25zdW1hYmxlQXJyYXkobmV3IFNldChzdGF0ZS55ZWFyLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkobmV3IFNldCh5ZWFyKSkpKSk7IC8vIOaLv+WIsOW9k+WJjemAieaLqeW5tOS7veeahOaVsOaNrgoKICAgIHZhciBjdXJyZW50TGlzdCA9IFtdOwoKICAgIGlmIChzdGF0ZS5jdXJyZW50ID09ICLlhajpg6giKSB7CiAgICAgIGN1cnJlbnRMaXN0ID0gcGF5bG9hZC5kYXRhLmxpc3Q7CiAgICB9IGVsc2UgewogICAgICBjdXJyZW50TGlzdCA9IHBheWxvYWQuZGF0YS5saXN0LmZpbHRlcihmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtLm1hcmtldF9hdHRyaWJ1dGUueWVhciA9PSBzdGF0ZS5jdXJyZW50OwogICAgICB9KTsKICAgIH0gLy8g57uZ5b2T5YmN5bm05Lu95pWw5o2u5o6S5bqPCgoKICAgIGN1cnJlbnRMaXN0ID0gc29ydENhckxpc3QoY3VycmVudExpc3QpOwogICAgY3VycmVudExpc3QgPSBmb3JtYXRDYXJMaXN0KGN1cnJlbnRMaXN0KTsKICAgIHN0YXRlLmN1cnJlbnRMaXN0ID0gY3VycmVudExpc3Q7CiAgICB3aW5kb3cuY29uc29sZS5sb2coc3RhdGUuY3VycmVudExpc3QpOwogIH0sCiAgc2V0Q3VycmVudDogZnVuY3Rpb24gc2V0Q3VycmVudChzdGF0ZSwgcGF5bG9hZCkgewogICAgc3RhdGUuY3VycmVudCA9IHBheWxvYWQ7CiAgfQp9Owp2YXIgYWN0aW9ucyA9IHsKICBnZXRJbmZvQW5kTGlzdEJ5SWQ6IGZ1bmN0aW9uIGdldEluZm9BbmRMaXN0QnlJZChfcmVmLCBwYXlsb2FkKSB7CiAgICB2YXIgY29tbWl0LCByZXM7CiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmFzeW5jKGZ1bmN0aW9uIGdldEluZm9BbmRMaXN0QnlJZCQoX2NvbnRleHQpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYuY29tbWl0OwogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hd3JhcChfZ2V0SW5mb0FuZExpc3RCeUlkKHBheWxvYWQpKTsKCiAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgIGNvbW1pdCgidXBkYXRlSW5mb0FuZExpc3RCeUlkIiwgcmVzKTsKCiAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSk7CiAgfQp9OwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZXNwYWNlZDogdHJ1ZSwKICBzdGF0ZTogc3RhdGUsCiAgbXV0YXRpb25zOiBtdXRhdGlvbnMsCiAgYWN0aW9uczogYWN0aW9ucwp9Ow=="},{"version":3,"sources":["C:/Users/贾永宏/Desktop/jyh/sanrenzu/dist/src/store/modules/car.js"],"names":["getInfoAndListById","state","carList","current","year","currentList","sortCarList","list","sort","a","b","exhaust_str","max_power_str","inhale_type","max_power","exhaust","formatCarList","map","item","key","newList","forEach","index","findIndex","value","push","window","console","log","mutations","updateInfoAndListById","payload","data","market_attribute","Set","concat","filter","setCurrent","actions","commit","res","namespaced"],"mappings":"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","sourcesContent":["import {\r\n    getInfoAndListById\r\n} from \"@/services/index\"\r\n\r\nconst state = {\r\n    carList: {},\r\n    current: \"全部\",\r\n    year: [\"全部\"],\r\n    currentList: []\r\n}\r\n//给车款排序\r\nfunction sortCarList(list) {\r\n    list.sort((a, b)=>{\r\n        if (a.exhaust_str == b.exhaust_str){\r\n            if (a.max_power_str == b.max_power_str){\r\n                return b.inhale_type > a.inhale_type;\r\n            }else{\r\n                return a.max_power - b.max_power;\r\n            }\r\n        }else{\r\n            return a.exhaust - b.exhaust;\r\n        }\r\n    })\r\n    return list;\r\n}\r\n//格式化数据\r\nfunction formatCarList(list) {\r\n    list = list.map(item => {\r\n        item.key = `${item.exhaust_str}/${item.max_power_str} ${item.inhale_type}`;\r\n        return item\r\n    })\r\n    let newList = [];\r\n    list.forEach(item => {\r\n        let index = newList.findIndex(value => value.key == item.key)\r\n        if (index !== -1) {\r\n            newList[index].list.push(item)\r\n        } else {\r\n            newList.push({\r\n                key: item.key,\r\n                list: [item]\r\n            })\r\n        }\r\n    })\r\n    window.console.log(state.currentList)\r\n    return newList\r\n}\r\nconst mutations = {  \r\n    updateInfoAndListById(state, payload) {\r\n        state.carList = payload.data\r\n        // 拿到年份\r\n        let year = payload.data.list.map(item => item.market_attribute.year);\r\n        state.year=[\"全部\"]\r\n        state.year = [...new Set(state.year.concat([...new Set(year)]))]\r\n        // 拿到当前选择年份的数据\r\n        let currentList = [];\r\n        if (state.current == \"全部\") {\r\n            currentList = payload.data.list\r\n        } else {\r\n            currentList = payload.data.list.filter(item => item.market_attribute.year == state.current)\r\n        }\r\n        // 给当前年份数据排序\r\n        currentList = sortCarList(currentList)\r\n        currentList = formatCarList(currentList)\r\n        state.currentList = currentList\r\n        window.console.log(state.currentList)\r\n    },\r\n    setCurrent(state,payload){\r\n        state.current=payload\r\n    }\r\n}\r\nconst actions = {\r\n    async getInfoAndListById({\r\n        commit\r\n    }, payload) {\r\n        let res = await getInfoAndListById(payload)\r\n        commit(\"updateInfoAndListById\", res)\r\n    }\r\n}\r\nexport default {\r\n    namespaced: true,\r\n    state,\r\n    mutations,\r\n    actions\r\n}"]}]}