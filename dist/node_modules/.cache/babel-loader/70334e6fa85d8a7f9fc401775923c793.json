{"remainingRequest":"C:\\Users\\admin\\Desktop\\dist\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\admin\\Desktop\\dist\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\admin\\Desktop\\dist\\src\\store\\modules\\car.js","dependencies":[{"path":"C:\\Users\\admin\\Desktop\\dist\\src\\store\\modules\\car.js","mtime":1575611193000},{"path":"C:\\Users\\admin\\Desktop\\dist\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1575538845000},{"path":"C:\\Users\\admin\\Desktop\\dist\\node_modules\\babel-loader\\lib\\index.js","mtime":1575538845000},{"path":"C:\\Users\\admin\\Desktop\\dist\\node_modules\\eslint-loader\\index.js","mtime":1575538847000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC1pbmRleCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZvci1lYWNoIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc29ydCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zZXQiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICJDOlxcVXNlcnNcXGFkbWluXFxEZXNrdG9wXFxkaXN0XFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheSI7CmltcG9ydCB7IGdldEluZm9BbmRMaXN0QnlJZCBhcyBfZ2V0SW5mb0FuZExpc3RCeUlkIH0gZnJvbSAiQC9zZXJ2aWNlcy9pbmRleCI7CnZhciBzdGF0ZSA9IHsKICBjYXJMaXN0OiB7fSwKICBjdXJyZW50OiAi5YWo6YOoIiwKICB5ZWFyOiBbIuWFqOmDqCJdLAogIGN1cnJlbnRMaXN0OiBbXQp9OyAvL+e7mei9puasvuaOkuW6jwoKZnVuY3Rpb24gc29ydENhckxpc3QobGlzdCkgewogIGxpc3Quc29ydChmdW5jdGlvbiAoYSwgYikgewogICAgaWYgKGEuZXhoYXVzdF9zdHIgPT0gYi5leGhhdXN0X3N0cikgewogICAgICBpZiAoYS5tYXhfcG93ZXJfc3RyID09IGIubWF4X3Bvd2VyX3N0cikgewogICAgICAgIHJldHVybiBiLmluaGFsZV90eXBlID4gYS5pbmhhbGVfdHlwZTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gYS5tYXhfcG93ZXIgLSBiLm1heF9wb3dlcjsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIGEuZXhoYXVzdCAtIGIuZXhoYXVzdDsKICAgIH0KICB9KTsKICByZXR1cm4gbGlzdDsKfSAvL+agvOW8j+WMluaVsOaNrgoKCmZ1bmN0aW9uIGZvcm1hdENhckxpc3QobGlzdCkgewogIGxpc3QgPSBsaXN0Lm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgaXRlbS5rZXkgPSAiIi5jb25jYXQoaXRlbS5leGhhdXN0X3N0ciwgIi8iKS5jb25jYXQoaXRlbS5tYXhfcG93ZXJfc3RyLCAiICIpLmNvbmNhdChpdGVtLmluaGFsZV90eXBlKTsKICAgIHJldHVybiBpdGVtOwogIH0pOwogIHZhciBuZXdMaXN0ID0gW107CiAgbGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICB2YXIgaW5kZXggPSBuZXdMaXN0LmZpbmRJbmRleChmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgcmV0dXJuIHZhbHVlLmtleSA9PSBpdGVtLmtleTsKICAgIH0pOwoKICAgIGlmIChpbmRleCAhPT0gLTEpIHsKICAgICAgbmV3TGlzdFtpbmRleF0ubGlzdC5wdXNoKGl0ZW0pOwogICAgfSBlbHNlIHsKICAgICAgbmV3TGlzdC5wdXNoKHsKICAgICAgICBrZXk6IGl0ZW0ua2V5LAogICAgICAgIGxpc3Q6IFtpdGVtXQogICAgICB9KTsKICAgIH0KICB9KTsKICB3aW5kb3cuY29uc29sZS5sb2coc3RhdGUuY3VycmVudExpc3QpOwogIHJldHVybiBuZXdMaXN0Owp9Cgp2YXIgbXV0YXRpb25zID0gewogIHVwZGF0ZUluZm9BbmRMaXN0QnlJZDogZnVuY3Rpb24gdXBkYXRlSW5mb0FuZExpc3RCeUlkKHN0YXRlLCBwYXlsb2FkKSB7CiAgICBzdGF0ZS5jYXJMaXN0ID0gcGF5bG9hZC5kYXRhOwogICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oIjIwMTcub2ZmaWNpYWwuY2FySW5mbyIsIEpTT04uc3RyaW5naWZ5KHN0YXRlLmNhckxpc3QpKTsgLy8g5ou/5Yiw5bm05Lu9CgogICAgdmFyIHllYXIgPSBwYXlsb2FkLmRhdGEubGlzdC5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgcmV0dXJuIGl0ZW0ubWFya2V0X2F0dHJpYnV0ZS55ZWFyOwogICAgfSk7CiAgICBzdGF0ZS55ZWFyID0gWyLlhajpg6giXTsKICAgIHN0YXRlLnllYXIgPSBfdG9Db25zdW1hYmxlQXJyYXkobmV3IFNldChzdGF0ZS55ZWFyLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkobmV3IFNldCh5ZWFyKSkpKSk7CiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiMjAxNy5vZmZpY2lhbC55ZWFyQXJyIiwgSlNPTi5zdHJpbmdpZnkoc3RhdGUueWVhcikpOyAvLyDmi7/liLDlvZPliY3pgInmi6nlubTku73nmoTmlbDmja4KCiAgICB2YXIgY3VycmVudExpc3QgPSBbXTsKCiAgICBpZiAoc3RhdGUuY3VycmVudCA9PSAi5YWo6YOoIikgewogICAgICBjdXJyZW50TGlzdCA9IHBheWxvYWQuZGF0YS5saXN0OwogICAgfSBlbHNlIHsKICAgICAgY3VycmVudExpc3QgPSBwYXlsb2FkLmRhdGEubGlzdC5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gaXRlbS5tYXJrZXRfYXR0cmlidXRlLnllYXIgPT0gc3RhdGUuY3VycmVudDsKICAgICAgfSk7CiAgICB9IC8vIOe7meW9k+WJjeW5tOS7veaVsOaNruaOkuW6jwoKCiAgICBjdXJyZW50TGlzdCA9IHNvcnRDYXJMaXN0KGN1cnJlbnRMaXN0KTsKICAgIGN1cnJlbnRMaXN0ID0gZm9ybWF0Q2FyTGlzdChjdXJyZW50TGlzdCk7CiAgICBzdGF0ZS5jdXJyZW50TGlzdCA9IGN1cnJlbnRMaXN0OwogICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oIjIwMTcub2ZmaWNpYWwuc29ydEFyciIsIEpTT04uc3RyaW5naWZ5KHN0YXRlLmN1cnJlbnRMaXN0KSk7CiAgICB3aW5kb3cuY29uc29sZS5sb2coc3RhdGUuY3VycmVudExpc3QpOwogIH0sCiAgc2V0Q3VycmVudDogZnVuY3Rpb24gc2V0Q3VycmVudChzdGF0ZSwgcGF5bG9hZCkgewogICAgc3RhdGUuY3VycmVudCA9IHBheWxvYWQ7CiAgfQp9Owp2YXIgYWN0aW9ucyA9IHsKICBnZXRJbmZvQW5kTGlzdEJ5SWQ6IGZ1bmN0aW9uIGdldEluZm9BbmRMaXN0QnlJZChfcmVmLCBwYXlsb2FkKSB7CiAgICB2YXIgY29tbWl0LCByZXM7CiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmFzeW5jKGZ1bmN0aW9uIGdldEluZm9BbmRMaXN0QnlJZCQoX2NvbnRleHQpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYuY29tbWl0OwogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hd3JhcChfZ2V0SW5mb0FuZExpc3RCeUlkKHBheWxvYWQpKTsKCiAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgIGNvbW1pdCgidXBkYXRlSW5mb0FuZExpc3RCeUlkIiwgcmVzKTsKCiAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSk7CiAgfQp9OwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZXNwYWNlZDogdHJ1ZSwKICBzdGF0ZTogc3RhdGUsCiAgbXV0YXRpb25zOiBtdXRhdGlvbnMsCiAgYWN0aW9uczogYWN0aW9ucwp9Ow=="},{"version":3,"sources":["C:/Users/admin/Desktop/dist/src/store/modules/car.js"],"names":["getInfoAndListById","state","carList","current","year","currentList","sortCarList","list","sort","a","b","exhaust_str","max_power_str","inhale_type","max_power","exhaust","formatCarList","map","item","key","newList","forEach","index","findIndex","value","push","window","console","log","mutations","updateInfoAndListById","payload","data","localStorage","setItem","JSON","stringify","market_attribute","Set","concat","filter","setCurrent","actions","commit","res","namespaced"],"mappings":"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","sourcesContent":["import {\r\n    getInfoAndListById\r\n} from \"@/services/index\"\r\n\r\nconst state = {\r\n    carList: {},\r\n    current: \"全部\",\r\n    year: [\"全部\"],\r\n    currentList: []\r\n}\r\n//给车款排序\r\nfunction sortCarList(list) {\r\n    list.sort((a, b)=>{\r\n        if (a.exhaust_str == b.exhaust_str){\r\n            if (a.max_power_str == b.max_power_str){\r\n                return b.inhale_type > a.inhale_type;\r\n            }else{\r\n                return a.max_power - b.max_power;\r\n            }\r\n        }else{\r\n            return a.exhaust - b.exhaust;\r\n        }\r\n    })\r\n    return list;\r\n}\r\n//格式化数据\r\nfunction formatCarList(list) {\r\n    list = list.map(item => {\r\n        item.key = `${item.exhaust_str}/${item.max_power_str} ${item.inhale_type}`;\r\n        return item\r\n    })\r\n    let newList = [];\r\n    list.forEach(item => {\r\n        let index = newList.findIndex(value => value.key == item.key)\r\n        if (index !== -1) {\r\n            newList[index].list.push(item)\r\n        } else {\r\n            newList.push({\r\n                key: item.key,\r\n                list: [item]\r\n            })\r\n        }\r\n    })\r\n    window.console.log(state.currentList)\r\n    return newList\r\n}\r\nconst mutations = {  \r\n    updateInfoAndListById(state, payload) {\r\n        state.carList = payload.data\r\n        localStorage.setItem(\"2017.official.carInfo\",JSON.stringify(state.carList))\r\n        // 拿到年份\r\n        let year = payload.data.list.map(item => item.market_attribute.year);\r\n        state.year=[\"全部\"]\r\n        state.year = [...new Set(state.year.concat([...new Set(year)]))]\r\n        localStorage.setItem(\"2017.official.yearArr\",JSON.stringify(state.year))\r\n        // 拿到当前选择年份的数据\r\n        let currentList = [];\r\n        if (state.current == \"全部\") {\r\n            currentList = payload.data.list\r\n        } else {\r\n            currentList = payload.data.list.filter(item => item.market_attribute.year == state.current)\r\n        }\r\n        // 给当前年份数据排序\r\n        currentList = sortCarList(currentList)\r\n        currentList = formatCarList(currentList)\r\n        state.currentList = currentList\r\n        localStorage.setItem(\"2017.official.sortArr\",JSON.stringify(state.currentList))\r\n        window.console.log(state.currentList)\r\n    },\r\n    setCurrent(state,payload){\r\n        state.current=payload\r\n    }\r\n}\r\nconst actions = {\r\n    async getInfoAndListById({\r\n        commit\r\n    }, payload) {\r\n        let res = await getInfoAndListById(payload)\r\n        commit(\"updateInfoAndListById\", res)\r\n    }\r\n}\r\nexport default {\r\n    namespaced: true,\r\n    state,\r\n    mutations,\r\n    actions\r\n}"]}]}